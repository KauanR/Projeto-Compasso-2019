{
  "swagger" : "2.0",
  "info" : {
    "description" : "Projeto de treinamento, elaborado pelo conjunto de URI e Compasso",
    "version" : "1.0.0",
    "title" : "Projeto Compasso 2019",
    "license" : {
      "name" : "https://github.com/KauanR/Projeto-Compasso-2019",
      "url" : "https://github.com/KauanR/Projeto-Compasso-2019"
    }
  },
  "host" : "virtserver.swaggerhub.com",
  "basePath" : "/KauanR/Projeto-Compasso-2019/1.0.0",
  "tags" : [ {
    "name" : "kpis"
  }, {
    "name" : "kpi_surveys"
  }, {
    "name" : "surveys"
  }, {
    "name" : "criterias"
  }, {
    "name" : "survey_itens"
  }, {
    "name" : "partys"
  }, {
    "name" : "party_relationships"
  }, {
    "name" : "survey_history"
  }, {
    "name" : "party_aditional_info"
  } ],
  "schemes" : [ "https" ],
  "paths" : {
    "/kpis" : {
      "get" : {
        "tags" : [ "kpis" ],
        "summary" : "Busca todas as kpis",
        "description" : "Busca todas as kpis cadastradas no banco de dados",
        "operationId" : "getKpis",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "name" : "limit[$count]",
          "in" : "query",
          "description" : "Quantas linhas v√£o ser buscadas na tabela.",
          "required" : true,
          "type" : "string"
        } ],
        "responses" : {
          "200" : {
            "description" : "busca feita com sucesso"
          },
          "400" : {
            "description" : "problema na busca"
          }
        }
      },
      "post" : {
        "tags" : [ "kpis" ],
        "summary" : "Adiciona uma kpi",
        "description" : "Adiciona uma kpi no banco de dados",
        "operationId" : "postKpis",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "in" : "body",
          "name" : "body",
          "description" : "Insira os dados da kpi",
          "required" : true,
          "schema" : {
            "$ref" : "#/definitions/kpis"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Inserido com sucesso"
          },
          "400" : {
            "description" : "Problema ao inserir"
          }
        }
      }
    },
    "/kpis/{id}" : {
      "get" : {
        "tags" : [ "kpis" ],
        "summary" : "Busca uma kpi pelo id",
        "description" : "Busca uma kpi pelo id no banco de dados",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "id de uma kpi",
          "required" : true,
          "type" : "integer"
        } ],
        "responses" : {
          "200" : {
            "description" : "Busca realizada com sucesso"
          },
          "400" : {
            "description" : "Problema ao buscar"
          }
        }
      },
      "delete" : {
        "tags" : [ "kpis" ],
        "summary" : "Remove uma kpi",
        "description" : "Remove uma kpi do banco de dados",
        "operationId" : "deleteKpi",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "id de uma kpi",
          "required" : true,
          "type" : "integer"
        } ],
        "responses" : {
          "200" : {
            "description" : "Removido com sucesso"
          },
          "400" : {
            "description" : "Problema ao remover"
          }
        }
      },
      "patch" : {
        "tags" : [ "kpis" ],
        "summary" : "Atualiza uma kpi",
        "description" : "Atualiza uma kpi do banco de dados",
        "operationId" : "patchKpi",
        "produces" : [ "application/json" ],
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "id de uma kpi",
          "required" : true,
          "type" : "integer"
        } ],
        "responses" : {
          "200" : {
            "description" : "Atualizado com sucesso"
          },
          "400" : {
            "description" : "Problema ao atualizar"
          }
        }
      }
    }
  },
  "definitions" : {
    "query" : {
      "type" : "object"
    },
    "kpis" : {
      "type" : "object",
      "required" : [ "description", "details", "name" ],
      "properties" : {
        "name" : {
          "type" : "string"
        },
        "description" : {
          "type" : "string"
        },
        "details" : {
          "type" : "string"
        }
      }
    },
    "surveys" : {
      "type" : "object",
      "required" : [ "description", "name", "partyType" ],
      "properties" : {
        "name" : {
          "type" : "string"
        },
        "description" : {
          "type" : "string"
        },
        "partyType" : {
          "type" : "string"
        }
      }
    },
    "criteria" : {
      "type" : "object",
      "required" : [ "description", "kpiId", "type", "value" ],
      "properties" : {
        "type" : {
          "type" : "string"
        },
        "value" : {
          "type" : "integer"
        },
        "description" : {
          "type" : "string"
        },
        "kpiId" : {
          "type" : "integer"
        }
      }
    },
    "survey_items" : {
      "type" : "object",
      "required" : [ "criteriaId", "criteriaKpiId", "date", "partyId" ],
      "properties" : {
        "date" : {
          "type" : "string",
          "format" : "AAAA-MM-DD"
        },
        "partyId" : {
          "type" : "integer"
        },
        "criteriaId" : {
          "type" : "integer"
        },
        "criteriaKpiId" : {
          "type" : "integer"
        }
      }
    },
    "party" : {
      "type" : "object",
      "required" : [ "additionalInfos", "lastAssessment", "name", "observations", "relationships", "type" ],
      "properties" : {
        "name" : {
          "type" : "string"
        },
        "type" : {
          "type" : "string"
        },
        "lastAssessment" : {
          "type" : "string",
          "format" : "AAAA-MM-DD"
        },
        "observations" : {
          "type" : "string"
        },
        "additionalInfos" : {
          "type" : "integer"
        },
        "relationships" : {
          "type" : "integer"
        }
      }
    },
    "KpiSurvey" : {
      "type" : "object",
      "required" : [ "grupo", "kpiId", "surveyId" ],
      "properties" : {
        "grupo" : {
          "type" : "string"
        },
        "surveyId" : {
          "type" : "integer"
        },
        "kpiId" : {
          "type" : "integer"
        }
      }
    },
    "PartyAdditionalInfo" : {
      "type" : "object",
      "required" : [ "info", "partyId", "type" ],
      "properties" : {
        "info" : {
          "type" : "string"
        },
        "type" : {
          "type" : "string"
        },
        "partyId" : {
          "type" : "integer"
        }
      }
    },
    "party_relationships" : {
      "type" : "object",
      "required" : [ "sourcePartyId", "targetPartyId", "type" ],
      "properties" : {
        "type" : {
          "type" : "string"
        },
        "sourcePartyId" : {
          "type" : "integer"
        },
        "targetPartyId" : {
          "type" : "integer"
        }
      }
    }
  }
}